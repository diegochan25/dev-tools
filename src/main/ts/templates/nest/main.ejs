<%- rules.javascript.moduleImporter(["NestFactory"], "@nestjs/core") %>
<%- rules.javascript.moduleImporter(["AppModule"], "./app.module") %>

(async () => {
    const app = await NestFactory.create(AppModule)<%- rules.javascript.semicolon %>

    app.enableCors()<%- rules.javascript.semicolon %>
    app.setGlobalPrefix(<%- rules.javascript.semicolon %>api<%- rules.javascript.semicolon %>)<%- rules.javascript.semicolon %>

    const host = process.env.APP_HOST || <%- rules.javascript.semicolon %>127.0.0.1<%- rules.javascript.semicolon %><%- rules.javascript.semicolon %>
    const port = process.env.APP_PORT || 3000<%- rules.javascript.semicolon %>

    await app.listen(port, () => console.log(<%- rules.javascript.semicolon %>App listening on http://%s:%s/<%- rules.javascript.semicolon %>, host, port))<%- rules.javascript.semicolon %>
})()<%- rules.javascript.semicolon %>